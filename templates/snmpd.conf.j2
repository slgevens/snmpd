# {{ ansible_managed }}
# DO NOT EDIT MANUALLY

###############################################################################
# AGENT BEHAVIOUR

agentAddress udp:{{ snmpd_agent_address }}:{% if snmpd_agent_port is defined %}{{ snmpd_agent_port }}{% else %}161
{% endif %}

###############################################################################
# ACCESS CONTROL

view   systemonly  included   .1.3.6.1.2.1.1
view   systemonly  included   .1.3.6.1.2.1.25.

{% for s in snmpd_view_configuration %}
{% if s.view is defined %}view {% else %}{% endif %}{% if s.view_name is defined %}{{ s.view_name }}{% else %}{% endif %} included {% if s.oid_tsee is defined %}{{ s.oid_tree }}{% else %}{% endif %}

{% endfor %}

rocommunity {% if snmpd_community is defined %}{{ snmpd_community }}{% else %} public  default -V systemonly
{% endif %}

{% if snmpd_communityv6 is defined %}rocommunity6 {{ snmpd_communityv6 }}{% else %} public  default -V systemonly
{% endif %}

rouser   authOnlyUser

###############################################################################
# SYSTEM INFORMATION

sysLocation              {{ snmpd_location }}
sysContact               {{ snmpd_contact }}
sysServices              {{ snmpd_services }}

#  Process Monitoring
{% for v in snmpd_proc_configuration %}
{% if v.proc is defined %}proc{% else %}{% endif %} {% if v.proc_name is defined %}{{ v.proc_name }}{% else %}{% endif %}  {% if v.proc_interval is defined %}{{ v.proc_interval }}{% else %}{% endif %}

{% endfor %}


#  Disk Monitoring
{% for d in snmpd_disk_configuration %}
{% if d.disk is defined %}disk{% else %}{% endif %} {% if d.disk_path is defined %}{{ d.disk_path }}{% else %}{% endif %}  {% if d.disk_percentage is defined %}{{ d.disk_percentage }}{% else %}{% endif %}

{% endfor %}


#  System Load
{% for l in snmpd_load_configuration %}
{% if l.load is defined %}load{% else %}{% endif %} {% if l.load_interval is defined %}{{ l.load_interval }}{% else %}{% endif %}

{% endfor %}


###############################################################################
# ACTIVE MONITORING

{% if snmpd_trapsink is defined %}trapsink {{ snmpd_trapsink }}{% else %}localhost public
{% endif %}

{% if snmpd_trap2sink is defined %}trap2sink {{ snmpd_trap2sink }}{% else %}localhost public
{% endif %}


iquerySecName            internalUser
rouser                   internalUser

defaultMonitors          yes
linkUpDownNotifications  yes

###############################################################################
# EXTENDING THE AGENT

{% if snmpd_extend is defined %}extend {{ snmpd_extend }}{% else %}
{% endif %}

{% if snmpd_extend_sh is defined %}extend-sh {{ snmpd_extend_sh }}{% else %}
{% endif %}
  
{% if snmpd_master is defined %}master {{ snmpd_master }}{% else %}
{% endif %}
